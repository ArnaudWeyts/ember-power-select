{{! template-lint-disable "no-invalid-interactive" }}
<ul
  id="ember-power-select-multiple-options-{{@select.uniqueId}}"
  aria-activedescendant={{if
    (and @select.isOpen (not @searchEnabled))
    @ariaActiveDescendant
  }}
  class="ember-power-select-multiple-options"
  {{did-update this.openChanged @select.isOpen}}
  {{on "touchstart" this.chooseOption}}
  {{on "mousedown" this.chooseOption}}
  ...attributes
>
  {{#each @select.selected as |opt idx|}}
    <li
      class="ember-power-select-multiple-option
        {{if opt.disabled 'ember-power-select-multiple-option--disabled'}}"
    >
      {{#unless @select.disabled}}
        <span
          role="button"
          aria-label="remove element"
          class="ember-power-select-multiple-remove-btn"
          data-selected-index={{idx}}
        >
          &times;
        </span>
      {{/unless}}
      {{#if @selectedItemComponent}}
        {{component
          (ensure-safe-component @selectedItemComponent)
          extra=@extra
          option=opt
          select=@select
        }}
      {{else}}
        {{yield opt @select}}
      {{/if}}
    </li>
  {{else}}
    {{#if (and @placeholder (not @select.searchText))}}
      <li>
        {{#if @placeholderComponent}}
          {{component
            (ensure-safe-component @placeholderComponent)
            placeholder=@placeholder
          }}
        {{else}}
          <span class="ember-power-select-placeholder">{{@placeholder}}</span>
        {{/if}}
      </li>
    {{/if}}
  {{/each}}
  {{#if @searchEnabled}}
    <li>
      <PowerSelectMultiple::Input
        @select={{@select}}
        @ariaActiveDescendant={{@ariaActiveDescendant}}
        @ariaLabelledBy={{@ariaLabelledBy}}
        @ariaLabel={{@ariaLabel}}
        @listboxId={{@listboxId}}
        @tabindex={{@tabindex}}
        @buildSelection={{@buildSelection}}
        @searchField={{@searchField}}
        @onFocus={{@onFocus}}
        @onBlur={{@onBlur}}
        @onKeydown={{@onKeydown}}
        @onInput={{@onInput}}
      />
    </li>
  {{/if}}
</ul>
<span class="ember-power-select-status-icon"></span>